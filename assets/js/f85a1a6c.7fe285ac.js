"use strict";(self.webpackChunkcreate_project_docs=self.webpackChunkcreate_project_docs||[]).push([[6244],{28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var i=s(96540);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}},98202:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>a,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"testing/unit-testing","title":"Unit tests","description":"For each method, one or more test cases.","source":"@site/docs/testing/unit-testing.md","sourceDirName":"testing","slug":"/testing/unit-testing","permalink":"/project-professional-group-one-llc/docs/testing/unit-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/Capstone-Projects-2026-spring/project-professional-group-one-llc/edit/main/documentation/docs/testing/unit-testing.md","tags":[],"version":"current","lastUpdatedBy":"jslootsky","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Test Procedures","permalink":"/project-professional-group-one-llc/docs/category/test-procedures"},"next":{"title":"Integration tests","permalink":"/project-professional-group-one-llc/docs/testing/integration-testing"}}');var r=s(74848),t=s(28453);const l={sidebar_position:1},c="Unit tests",d={},o=[{value:"<code>movementSensor.test.js</code>",id:"movementsensortestjs",level:2},{value:"Purpose",id:"purpose",level:3},{value:"Key Testing Techniques Used",id:"key-testing-techniques-used",level:3},{value:"Fake Timers",id:"fake-timers",level:4},{value:"Mocking <code>expo-sensors</code>",id:"mocking-expo-sensors",level:4},{value:"Loading a Fresh Module Each Test",id:"loading-a-fresh-module-each-test",level:4},{value:"Test Setup / Teardown",id:"test-setup--teardown",level:3},{value:"<code>beforeEach</code>",id:"beforeeach",level:4},{value:"<code>afterEach</code>",id:"aftereach",level:4},{value:"Test Cases",id:"test-cases",level:3},{value:"1) Registers accelerometer listener and sets update interval on import",id:"1-registers-accelerometer-listener-and-sets-update-interval-on-import",level:4},{value:"2) <code>stop()</code> removes the accelerometer subscription",id:"2-stop-removes-the-accelerometer-subscription",level:4},{value:"3) Does NOT scan when still but movement was never armed",id:"3-does-not-scan-when-still-but-movement-was-never-armed",level:4},{value:"4) After being armed, going still triggers a scan after the stillness timeout",id:"4-after-being-armed-going-still-triggers-a-scan-after-the-stillness-timeout",level:4},{value:"5) If movement resumes, it cancels the stillness timer (no scan)",id:"5-if-movement-resumes-it-cancels-the-stillness-timer-no-scan",level:4},{value:"Notes / Expectations About the Implementation",id:"notes--expectations-about-the-implementation",level:3},{value:"<code>useSentenceBuilder.test.js</code>",id:"usesentencebuildertestjs",level:2},{value:"Purpose",id:"purpose-1",level:3},{value:"Key Testing Techniques Used",id:"key-testing-techniques-used-1",level:3},{value:"Hook Testing With <code>renderHook</code>",id:"hook-testing-with-renderhook",level:4},{value:"Mocking <code>Alert.alert</code>",id:"mocking-alertalert",level:4},{value:"Test Setup",id:"test-setup",level:3},{value:"<code>beforeEach</code>",id:"beforeeach-1",level:4},{value:"Test Cases",id:"test-cases-1",level:3},{value:"1) Initial sentence is empty",id:"1-initial-sentence-is-empty",level:4},{value:"2) <code>addWord</code> appends words in order",id:"2-addword-appends-words-in-order",level:4},{value:"3) <code>removeLastWord</code> removes only the last word",id:"3-removelastword-removes-only-the-last-word",level:4},{value:"4) <code>removeLastWord</code> on empty sentence stays empty (no crash)",id:"4-removelastword-on-empty-sentence-stays-empty-no-crash",level:4},{value:"5) <code>clearSentence</code> resets sentence to empty",id:"5-clearsentence-resets-sentence-to-empty",level:4},{value:"6) <code>speakSentence</code> does nothing when sentence is empty",id:"6-speaksentence-does-nothing-when-sentence-is-empty",level:4},{value:"7) <code>speakSentence</code> alerts joined sentence when not empty",id:"7-speaksentence-alerts-joined-sentence-when-not-empty",level:4},{value:"8) Calls <code>onLogPress</code> with correct event names and payloads",id:"8-calls-onlogpress-with-correct-event-names-and-payloads",level:4},{value:"9) Does not crash if <code>onLogPress</code> is not provided",id:"9-does-not-crash-if-onlogpress-is-not-provided",level:4},{value:"Summary",id:"summary",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"unit-tests",children:"Unit tests"})}),"\n",(0,r.jsx)(n.p,{children:"For each method, one or more test cases."}),"\n",(0,r.jsx)(n.p,{children:"A test case consists of input parameter values and expected results."}),"\n",(0,r.jsx)(n.p,{children:"All external classes should be stubbed using mock objects."}),"\n",(0,r.jsx)(n.h1,{id:"unit-test-documentation",children:"Unit Test Documentation"}),"\n",(0,r.jsx)(n.p,{children:"This document describes what each unit test file covers, how the mocks work, and what behaviors are being verified."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"movementsensortestjs",children:(0,r.jsx)(n.code,{children:"movementSensor.test.js"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsxs)(n.p,{children:["Tests the ",(0,r.jsx)(n.code,{children:"movementSensor"})," module (imported from ",(0,r.jsx)(n.code,{children:"../src/hooks/movementSensor"}),") that uses the Expo Accelerometer to:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Register an accelerometer listener on module import"}),"\n",(0,r.jsx)(n.li,{children:"Set the accelerometer update interval"}),"\n",(0,r.jsx)(n.li,{children:"Track movement until a target travel distance is reached (arming a scan)"}),"\n",(0,r.jsx)(n.li,{children:"Trigger a BLE scan only after the device becomes still for long enough"}),"\n",(0,r.jsx)(n.li,{children:"Cancel a pending scan if movement resumes"}),"\n",(0,r.jsxs)(n.li,{children:["Clean up the accelerometer subscription via ",(0,r.jsx)(n.code,{children:"stop()"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"key-testing-techniques-used",children:"Key Testing Techniques Used"}),"\n",(0,r.jsx)(n.h4,{id:"fake-timers",children:"Fake Timers"}),"\n",(0,r.jsx)(n.p,{children:"The file uses:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jest.useFakeTimers()"})," to control time-based behavior (e.g., stillness timeouts)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jest.advanceTimersByTime(ms)"})," to simulate time passing and trigger timer callbacks."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This is essential because \u201cstillness triggers scan after a timeout\u201d is timer-driven behavior."}),"\n",(0,r.jsxs)(n.h4,{id:"mocking-expo-sensors",children:["Mocking ",(0,r.jsx)(n.code,{children:"expo-sensors"})]}),"\n",(0,r.jsxs)(n.p,{children:["The test replaces ",(0,r.jsx)(n.code,{children:"expo-sensors"})," with a mock implementation:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Accelerometer.addListener(cb)"})," is mocked to:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Capture the callback (",(0,r.jsx)(n.code,{children:"capturedListener"}),") so tests can manually feed accelerometer samples."]}),"\n",(0,r.jsxs)(n.li,{children:["Return a subscription object with ",(0,r.jsx)(n.code,{children:"{ remove: mockRemove }"})," so cleanup can be tested."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"Accelerometer.setUpdateInterval"})," is mocked so we can assert it was configured properly."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Mock variables:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mockAddListener"}),": spy for ",(0,r.jsx)(n.code,{children:"addListener"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mockSetUpdateInterval"}),": spy for ",(0,r.jsx)(n.code,{children:"setUpdateInterval"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"mockRemove"}),": spy for ",(0,r.jsx)(n.code,{children:"subscription.remove()"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"capturedListener"}),": stores the callback passed to ",(0,r.jsx)(n.code,{children:"addListener"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"loading-a-fresh-module-each-test",children:"Loading a Fresh Module Each Test"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"movementSensor"})," has top-level side effects (it registers listeners on import), so each test uses a helper:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jest.resetModules()"})," to reset the Node module cache"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jest.isolateModules()"})," to ensure the ",(0,r.jsx)(n.code,{children:"require()"})," happens in an isolated registry"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This guarantees each test starts with a clean module state."}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"test-setup--teardown",children:"Test Setup / Teardown"}),"\n",(0,r.jsx)(n.h4,{id:"beforeeach",children:(0,r.jsx)(n.code,{children:"beforeEach"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Clears mocks"}),"\n",(0,r.jsxs)(n.li,{children:["Spies on ",(0,r.jsx)(n.code,{children:"console.log"})," to verify logging behavior"]}),"\n",(0,r.jsxs)(n.li,{children:["Imports the module fresh via ",(0,r.jsx)(n.code,{children:"loadFreshModule()"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"aftereach",children:(0,r.jsx)(n.code,{children:"afterEach"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Restores the ",(0,r.jsx)(n.code,{children:"console.log"})," spy"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"test-cases",children:"Test Cases"}),"\n",(0,r.jsx)(n.h4,{id:"1-registers-accelerometer-listener-and-sets-update-interval-on-import",children:"1) Registers accelerometer listener and sets update interval on import"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"registers accelerometer listener and sets update interval on import"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Importing the module calls:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Accelerometer.setUpdateInterval(100)"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Accelerometer.addListener(...)"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Ensures ",(0,r.jsx)(n.code,{children:"capturedListener"})," is actually a function (the update callback)."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Confirms that the module\u2019s top-level initialization is correct and consistent."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"2-stop-removes-the-accelerometer-subscription",children:["2) ",(0,r.jsx)(n.code,{children:"stop()"})," removes the accelerometer subscription"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"stop() removes the accelerometer subscription"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Calling ",(0,r.jsx)(n.code,{children:"mod.stop()"})," triggers ",(0,r.jsx)(n.code,{children:"subscription.remove()"})," exactly once."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prevents memory leaks and duplicated listeners across app screens / lifecycle changes."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"3-does-not-scan-when-still-but-movement-was-never-armed",children:"3) Does NOT scan when still but movement was never armed"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"does NOT scan when the device is still but movement was never armed"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Feeding a \u201cstill\u201d sample without ever reaching the target distance does not trigger scanning,\neven after enough time passes."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Signals used"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Confirms ",(0,r.jsx)(n.code,{children:"console.log"})," was ",(0,r.jsx)(n.em,{children:"not"})," called with:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[BLE] Scanning for nearby devices..."})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Scanning should only happen after \u201carming\u201d conditions are met (target distance reached)."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"4-after-being-armed-going-still-triggers-a-scan-after-the-stillness-timeout",children:"4) After being armed, going still triggers a scan after the stillness timeout"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"after being armed, going still triggers a scan after the stillness timeout"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Movement samples accumulate enough distance to arm scanning."}),"\n",(0,r.jsxs)(n.li,{children:["A log appears indicating arming:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[Tracker] 5m reached \u2014 will scan when device stops."})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"A still sample starts the stillness timer."}),"\n",(0,r.jsx)(n.li,{children:"Before timeout: scan does not occur."}),"\n",(0,r.jsxs)(n.li,{children:["After timeout: scan log appears:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"[BLE] Scanning for nearby devices..."})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"How time is simulated"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Mocks ",(0,r.jsx)(n.code,{children:"Date.now()"})," so distance calculations have deterministic timestamps."]}),"\n",(0,r.jsxs)(n.li,{children:["Uses a loop that advances ",(0,r.jsx)(n.code,{children:"now"})," by ",(0,r.jsx)(n.code,{children:"200ms"})," per movement sample to simulate sustained movement."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"This is the core expected behavior: \u201ctravel enough -> wait until still -> scan.\u201d"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h4,{id:"5-if-movement-resumes-it-cancels-the-stillness-timer-no-scan",children:"5) If movement resumes, it cancels the stillness timer (no scan)"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"if movement resumes, it cancels the stillness timer (no scan)"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Arms scanning the same way as the previous test."}),"\n",(0,r.jsx)(n.li,{children:"Starts the stillness timer by going still."}),"\n",(0,r.jsxs)(n.li,{children:["Sends a movement sample ",(0,r.jsx)(n.em,{children:"before"})," the stillness timeout completes."]}),"\n",(0,r.jsx)(n.li,{children:"Advances time beyond the timeout."}),"\n",(0,r.jsx)(n.li,{children:"Confirms scan did not occur."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prevents scanning while the device is moving again (correct \u201cdebounce\u201d behavior)."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"notes--expectations-about-the-implementation",children:"Notes / Expectations About the Implementation"}),"\n",(0,r.jsxs)(n.p,{children:["These tests assume that ",(0,r.jsx)(n.code,{children:"movementSensor"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Calls ",(0,r.jsx)(n.code,{children:"Accelerometer.setUpdateInterval(100)"})," on import"]}),"\n",(0,r.jsxs)(n.li,{children:["Calls ",(0,r.jsx)(n.code,{children:"Accelerometer.addListener(cb)"})," on import"]}),"\n",(0,r.jsxs)(n.li,{children:["Accumulates distance using time deltas (",(0,r.jsx)(n.code,{children:"Date.now()"}),") and acceleration magnitude"]}),"\n",(0,r.jsxs)(n.li,{children:["Arms scanning at ",(0,r.jsx)(n.code,{children:"5m"})," (target distance)"]}),"\n",(0,r.jsxs)(n.li,{children:["Triggers scan only after ",(0,r.jsx)(n.code,{children:"STILLNESS_TIMEOUT"})," elapses while \u201cstill\u201d"]}),"\n",(0,r.jsx)(n.li,{children:"Cancels stillness timer if movement resumes before the timeout"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"usesentencebuildertestjs",children:(0,r.jsx)(n.code,{children:"useSentenceBuilder.test.js"})}),"\n",(0,r.jsx)(n.h3,{id:"purpose-1",children:"Purpose"}),"\n",(0,r.jsxs)(n.p,{children:["Tests the custom hook ",(0,r.jsx)(n.code,{children:"useSentenceBuilder"})," (imported from ",(0,r.jsx)(n.code,{children:"../src/hooks/useSentenceBuilder"}),") which manages a \u201csentence\u201d as an array of words and exposes actions to:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add a word"}),"\n",(0,r.jsx)(n.li,{children:"Remove the last word"}),"\n",(0,r.jsx)(n.li,{children:"Clear the sentence"}),"\n",(0,r.jsxs)(n.li,{children:["Speak the sentence (implemented here as an ",(0,r.jsx)(n.code,{children:"Alert.alert"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Optionally log user events via an ",(0,r.jsx)(n.code,{children:"onLogPress"})," callback"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"key-testing-techniques-used-1",children:"Key Testing Techniques Used"}),"\n",(0,r.jsxs)(n.h4,{id:"hook-testing-with-renderhook",children:["Hook Testing With ",(0,r.jsx)(n.code,{children:"renderHook"})]}),"\n",(0,r.jsxs)(n.p,{children:["The tests use ",(0,r.jsx)(n.code,{children:"@testing-library/react-native"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"renderHook(() => useSentenceBuilder(...))"})," to run the hook in a test environment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"act(() => ...)"})," to apply state updates safely and ensure React state settles before assertions"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"mocking-alertalert",children:["Mocking ",(0,r.jsx)(n.code,{children:"Alert.alert"})]}),"\n",(0,r.jsxs)(n.p,{children:["When testing ",(0,r.jsx)(n.code,{children:"speakSentence"}),", the tests spy on:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Alert.alert"})," to prevent UI popups and verify calls."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"test-setup",children:"Test Setup"}),"\n",(0,r.jsx)(n.h4,{id:"beforeeach-1",children:(0,r.jsx)(n.code,{children:"beforeEach"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"jest.clearAllMocks()"})," ensures each test starts clean and no previous call counts leak in."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"test-cases-1",children:"Test Cases"}),"\n",(0,r.jsx)(n.h4,{id:"1-initial-sentence-is-empty",children:"1) Initial sentence is empty"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"initial sentence is empty"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["On first render, ",(0,r.jsx)(n.code,{children:"sentence"})," is ",(0,r.jsx)(n.code,{children:"[]"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"2-addword-appends-words-in-order",children:["2) ",(0,r.jsx)(n.code,{children:"addWord"})," appends words in order"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"addWord appends words in order"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Adding ",(0,r.jsx)(n.code,{children:'"hello"'}),", then ",(0,r.jsx)(n.code,{children:'"world"'})," results in:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"['hello', 'world']"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sentence ordering must match selection order for accurate speech output."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"3-removelastword-removes-only-the-last-word",children:["3) ",(0,r.jsx)(n.code,{children:"removeLastWord"})," removes only the last word"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"removeLastWord removes only the last word"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Given ",(0,r.jsx)(n.code,{children:"['I', 'like', 'pizza']"}),", removing last yields:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"['I', 'like']"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"4-removelastword-on-empty-sentence-stays-empty-no-crash",children:["4) ",(0,r.jsx)(n.code,{children:"removeLastWord"})," on empty sentence stays empty (no crash)"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"removeLastWord on empty sentence stays empty (no crash)"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Removing last word on an empty sentence:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"does not throw"}),"\n",(0,r.jsxs)(n.li,{children:["keeps ",(0,r.jsx)(n.code,{children:"sentence"})," as ",(0,r.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"5-clearsentence-resets-sentence-to-empty",children:["5) ",(0,r.jsx)(n.code,{children:"clearSentence"})," resets sentence to empty"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"clearSentence resets sentence to empty"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["After adding ",(0,r.jsx)(n.code,{children:'"test"'}),", calling ",(0,r.jsx)(n.code,{children:"clearSentence()"})," resets to ",(0,r.jsx)(n.code,{children:"[]"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"6-speaksentence-does-nothing-when-sentence-is-empty",children:["6) ",(0,r.jsx)(n.code,{children:"speakSentence"})," does nothing when sentence is empty"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"speakSentence does nothing when sentence is empty"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["With an empty sentence, calling ",(0,r.jsx)(n.code,{children:"speakSentence()"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["does ",(0,r.jsx)(n.strong,{children:"not"})," call ",(0,r.jsx)(n.code,{children:"Alert.alert"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Avoids confusing UX (no \u201cspeaking\u201d popup when nothing exists to speak)."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"7-speaksentence-alerts-joined-sentence-when-not-empty",children:["7) ",(0,r.jsx)(n.code,{children:"speakSentence"})," alerts joined sentence when not empty"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"speakSentence alerts joined sentence when not empty"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Adding ",(0,r.jsx)(n.code,{children:'"hello"'}),", ",(0,r.jsx)(n.code,{children:'"there"'})," then calling ",(0,r.jsx)(n.code,{children:"speakSentence()"})," triggers:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Alert.alert('Speaking', 'hello there')"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Confirms correct joining behavior and expected \u201cspeaking\u201d output."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"8-calls-onlogpress-with-correct-event-names-and-payloads",children:["8) Calls ",(0,r.jsx)(n.code,{children:"onLogPress"})," with correct event names and payloads"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"calls onLogPress with correct event names and payloads"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"What it verifies"}),"\nWhen ",(0,r.jsx)(n.code,{children:"useSentenceBuilder({ onLogPress })"})," is used:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"addWord('hi')"})," logs:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"onLogPress('word_tile', { word: 'hi' })"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"removeLastWord()"})," logs:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"onLogPress('remove_last_word')"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"clearSentence()"})," logs:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"onLogPress('clear_sentence')"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["After adding two words and calling ",(0,r.jsx)(n.code,{children:"speakSentence()"}),", logs:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"onLogPress('speak_sentence', { sentenceLength: 2 })"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensures analytics / logging hooks receive consistent event names and payload shapes."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h4,{id:"9-does-not-crash-if-onlogpress-is-not-provided",children:["9) Does not crash if ",(0,r.jsx)(n.code,{children:"onLogPress"})," is not provided"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Test name"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"does not crash if onLogPress is not provided"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"What it verifies"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Calling all actions without an ",(0,r.jsx)(n.code,{children:"onLogPress"})," callback:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"does not throw any errors"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Why it matters"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Makes the hook safe to use in screens/components that do not provide logging."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"movementSensor.test.js"})," focuses on sensor lifecycle + movement/stillness logic, using mocked Expo Accelerometer and controlled timers."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useSentenceBuilder.test.js"})," focuses on sentence state management, speech output behavior (via ",(0,r.jsx)(n.code,{children:"Alert.alert"}),"), and optional event logging."]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);